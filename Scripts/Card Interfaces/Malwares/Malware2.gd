class_name Malware2

extends StatusEffector

@export var crit_rate_buff: float = 0.25
@export var shield_degeneration: float = 0.135

func apply_stat_effect(_damageable: Damageable) -> void:
	_damageable.crit_rate += crit_rate_buff

func regenerate_stat(_damageable: Damageable) -> void:
	_damageable.cur_shield -= _damageable.max_shield * shield_degeneration
	_damageable.cur_shield = clampf(_damageable.cur_shield, 0.0, _damageable.max_shield)

func get_desc_format() -> Array:
	return [crit_rate_buff * 100, turns, shield_degeneration * 100]

func play_sfx() -> void:
	SoundManager.play_modifier_sfx("Morimens")
